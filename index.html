<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
  <title>Hao Zhang Âº†Êòä ‚Äî Homepage</title>
  <meta name="description" content="Hao Zhang (Âº†Êòä) ‚Äî PhD student @ UIUC. Research: 3D/4D Reconstruction & Generation, Animation & Rigging, Physical Simulation." />
  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Hao Zhang ‚Äî Homepage" />
  <meta property="og:description" content="PhD student @ UIUC. 3D/4D Reconstruction & Generation, Animation & Rigging, Physical Simulation." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://haoz19.github.io" />
  <meta property="og:image" content="https://unavatar.io/github/haoz19" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üíª</text></svg>">
  <style>
    :root {
      --bg: #ffffff;
      --text: #1a202c;
      --text-light: #4a5568;
      --text-muted: #a0aec0;
      --accent: #2d3748;
      --accent-light: #4a5568;
      --success: #38a169;
      --warning: #d69e2e;
      --info: #3182ce;
      --mono: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
      --sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      font-size: 16px;
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    html {
      scroll-behavior: smooth;
    }

    ::selection {
      background: rgba(45, 55, 72, 0.1);
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid #f0f0f0;
      z-index: 100;
    }

    .nav {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 64px;
    }

    .logo {
      font-family: var(--mono);
      font-size: 16px;
      font-weight: 600;
      color: var(--accent);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo::before {
      content: "‚óè";
      color: var(--success);
      font-size: 12px;
    }

    .nav-links {
      display: flex;
      gap: 32px;
      list-style: none;
    }

    .nav-links a {
      color: var(--text-light);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 0.2s ease;
      position: relative;
    }

    .nav-links a:hover {
      color: var(--accent);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 80px 32px 60px;
    }

    /* Hero section */
    .hero {
      display: grid;
      grid-template-columns: 200px 1fr;
      gap: 80px;
      align-items: end;
      margin-bottom: 80px;
      min-height: 400px;
    }

    .hero-content {
      padding-top: 0;
    }

    .hero-prompt {
      font-family: var(--mono);
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .hero-prompt::before {
      content: "$ ";
      color: var(--success);
    }

    .hero-title {
      font-size: 48px;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 16px;
      line-height: 1.1;
      letter-spacing: -0.02em;
    }

    .chinese-name {
      font-family: 'Ma Shan Zheng', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      font-size: 0.7em;
      color: var(--text-muted);
      font-weight: 400;
      letter-spacing: 0.1em;
      margin-left: 0.4em;
      position: relative;
      top: -0.08em;
      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .hero-subtitle {
      font-size: 20px;
      color: var(--info);
      margin-bottom: 24px;
      font-weight: 500;
      line-height: 1.4;
    }

    .hero-description {
      font-size: 17px;
      color: var(--text-light);
      line-height: 1.7;
      margin-bottom: 32px;
      max-width: 600px;
    }

    .hero-description strong {
      color: var(--accent);
      font-weight: 600;
    }

    .hero-description.terminal-style {
      font-family: var(--mono);
      font-size: 15px;
      line-height: 1.6;
      background: #ffffff;
      color: var(--text);
      padding: 16px 20px;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
      position: relative;
    }

    .hero-description.terminal-style::before {
      content: "$ cat research_focus.txt";
      display: block;
      color: var(--text-muted);
      font-size: 13px;
      margin-bottom: 8px;
      opacity: 0.8;
    }

    .hero-description.terminal-style::after {
      content: "‚ñà";
      color: var(--success);
      animation: blink 1s infinite;
      margin-left: 4px;
    }

    @keyframes terminalBreathe {
      0%, 100% {
        color: var(--text-light);
        border-color: #e5e7eb;
        background: #ffffff;
      }
      50% {
        color: var(--accent);
        border-color: var(--success);
        background: rgba(248, 250, 252, 0.8);
      }
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .hero-description.terminal-style strong {
      color: var(--success);
      font-weight: 600;
      animation: strongBreathe 4s ease-in-out infinite;
    }

    @keyframes strongBreathe {
      0%, 100% {
        color: var(--success);
      }
      50% {
        color: var(--info);
      }
    }

    /* Keyword color progression with flowing animation */
    .keyword-1 {
      color: #3b82f6 !important; /* Blue */
      animation: keywordFlow 10s ease-in-out infinite;
      animation-delay: 0s;
    }

    .keyword-2 {
      color: #8b5cf6 !important; /* Purple */
      animation: keywordFlow 10s ease-in-out infinite;
      animation-delay: 1s;
    }

    .keyword-3 {
      color: #ec4899 !important; /* Pink */
      animation: keywordFlow 10s ease-in-out infinite;
      animation-delay: 2s;
    }

    .keyword-4 {
      color: #f59e0b !important; /* Orange */
      animation: keywordFlow 10s ease-in-out infinite;
      animation-delay: 3s;
    }

    .keyword-5 {
      color: #10b981 !important; /* Green */
      animation: keywordFlow 10s ease-in-out infinite;
      animation-delay: 4s;
    }

    @keyframes keywordFlow {
      0%, 80%, 100% {
        opacity: 0.7;
        transform: scale(1);
        text-shadow: none;
      }
      10%, 70% {
        opacity: 1;
        transform: scale(1.05);
        text-shadow: 0 0 8px currentColor;
      }
    }

    /* Typewriter effect */
    .typewriter-text {
      min-height: 3em;
      position: relative;
    }

    .typewriter-cursor {
      color: var(--text-muted);
      animation: blink 1s infinite;
      font-weight: normal;
    }

    .keyword-highlight {
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .keyword-highlight.dynamic { color: #3b82f6; }
    .keyword-highlight.reconstruction { color: #8b5cf6; }
    .keyword-highlight.animation { color: #ec4899; }
    .keyword-highlight.rigging { color: #f59e0b; }
    .keyword-highlight.simulation { color: #10b981; }

    .contact-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .contact-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      background: transparent;
      border: none;
      border-radius: 20px;
      color: var(--text-light);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      position: relative;
    }

    .contact-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 20px;
      padding: 1px;
      background: linear-gradient(135deg, #e8e8e8, #f5f5f5);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: xor;
      -webkit-mask-composite: xor;
    }

    .contact-btn:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(45, 55, 72, 0.2);
    }

    .contact-btn:hover::before {
      background: var(--accent);
    }

    .contact-btn span {
      font-size: 16px;
      filter: grayscale(0.3);
      transition: filter 0.2s ease;
    }

    .contact-btn:hover span {
      filter: grayscale(0);
    }

    .contact-btn.wechat {
      position: relative;
      cursor: default;
    }

    .contact-btn.wechat .tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #2d3748;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      font-family: var(--mono);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      margin-bottom: 8px;
      z-index: 10;
    }

    .contact-btn.wechat .tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 5px solid transparent;
      border-top-color: #2d3748;
    }

    .contact-btn.wechat:hover .tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(-4px);
    }

    /* Contact buttons pulse animation */
    .contact-btn {
      animation: contactPulse 8s ease-in-out infinite;
      transition: all 0.3s ease;
    }

    .contact-btn:nth-child(1) {
      animation-delay: 0s;
    }

    .contact-btn:nth-child(2) {
      animation-delay: 1.3s;
    }

    .contact-btn:nth-child(3) {
      animation-delay: 2.6s;
    }

    .contact-btn:nth-child(4) {
      animation-delay: 3.9s;
    }

    .contact-btn:nth-child(5) {
      animation-delay: 5.2s;
    }

    .contact-btn:nth-child(6) {
      animation-delay: 6.5s;
    }

    @keyframes contactPulse {
      0%, 90%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      5% {
        transform: scale(1.08);
        opacity: 0.9;
      }
      10% {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* Profile */
    .profile-container {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      height: 100%;
    }

    .profile-image {
      width: 200px;
      height: 240px;
      object-fit: cover;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      margin-bottom: 16px;
    }

    .profile-image:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.16);
    }

    .profile-stats {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 8px;
      width: 200px;
    }

    .profile-stat {
      text-align: center;
      padding: 6px 4px;
      background: rgba(248, 249, 250, 0.8);
      border-radius: 4px;
      border: 1px solid #f0f0f0;
    }

    .profile-stat-value {
      font-family: var(--mono);
      font-size: 14px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 2px;
    }

    .profile-stat-label {
      font-size: 9px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.3px;
      font-weight: 500;
    }


    .profile-label {
      position: absolute;
      bottom: -1px;
      left: -1px;
      right: -1px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 0 0 16px 16px;
      padding: 10px 16px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text-muted);
      text-align: center;
    }

    /* Stats bar */
    .stats-section {
      margin: 60px 0 80px;
      text-align: center;
    }

    .stats-grid {
      display: inline-flex;
      gap: 60px;
      justify-content: center;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-family: var(--mono);
      font-size: 32px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 12px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }

    /* Section styling */
    .section {
      margin: 100px 0;
    }

    .section-title {
      font-size: 28px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 50px;
      text-align: center;
      position: relative;
    }

    .section-title::before {
      content: "// ";
      font-family: var(--mono);
      color: var(--text-muted);
      font-size: 20px;
    }

    .section-title::after {
      content: " {";
      font-family: var(--mono);
      color: var(--text-muted);
      font-size: 20px;
    }

    /* News timeline */
    .news-timeline {
      max-width: 800px;
      margin: 0 auto;
      max-height: 300px;
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 8px;
      position: relative;
    }

    .news-timeline.auto-scrolling {
      scroll-behavior: smooth;
    }

    .news-timeline::-webkit-scrollbar {
      width: 6px;
    }

    .news-timeline::-webkit-scrollbar-track {
      background: #f8f9fa;
      border-radius: 3px;
    }

    .news-timeline::-webkit-scrollbar-thumb {
      background: var(--text-muted);
      border-radius: 3px;
      opacity: 0.5;
    }

    .news-timeline::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }

    .news-item {
      padding: 20px 0;
      border-bottom: 1px solid #f5f5f5;
      display: flex;
      gap: 24px;
      align-items: flex-start;
    }

    .news-item:last-child {
      border-bottom: none;
    }

    .news-date {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text-muted);
      font-weight: 500;
      min-width: 80px;
      padding-top: 2px;
    }

    .news-date::before {
      content: "[";
      color: var(--success);
    }

    .news-date::after {
      content: "]";
      color: var(--success);
    }

    .news-content {
      font-size: 16px;
      color: var(--text);
      line-height: 1.6;
      flex: 1;
    }

    .news-content strong {
      color: var(--accent);
      font-weight: 600;
    }

    /* Publication list */
    .pub-list {
      max-width: 1000px;
      margin: 0 auto;
    }

    .pub-item {
      display: flex;
      gap: 32px;
      align-items: flex-start;
      padding: 32px 0;
      border-bottom: 1px solid #f5f5f5;
    }

    .pub-item:last-child {
      border-bottom: none;
    }

    .pub-image {
      width: 200px;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
      flex-shrink: 0;
    }

    .pub-content {
      flex: 1;
    }

    .pub-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .pub-authors {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 10px;
      line-height: 1.5;
    }

    .pub-authors strong {
      color: var(--text);
      font-weight: 600;
    }

    .pub-venue {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 4px 12px;
      border-radius: 2px;
      font-size: 12px;
      font-weight: 600;
      font-family: var(--mono);
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      position: relative;
    }

    .pub-venue::before {
      content: "<";
      margin-right: 4px;
      opacity: 0.8;
    }

    .pub-venue::after {
      content: ">";
      margin-left: 4px;
      opacity: 0.8;
    }

    .pub-spotlight {
      display: inline-block;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      padding: 4px 12px;
      border-radius: 2px;
      font-size: 12px;
      font-weight: 600;
      font-family: var(--mono);
      margin-left: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      position: relative;
      box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    }

    .pub-spotlight::before {
      content: "‚≠ê";
      margin-right: 4px;
      font-size: 10px;
    }

    .pub-spotlight::after {
      content: "‚≠ê";
      margin-left: 4px;
      font-size: 10px;
    }

    .news-spotlight {
      display: inline-block;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      margin-left: 6px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    }

    .news-spotlight::before {
      content: "‚≠ê";
      margin-right: 3px;
      font-size: 9px;
    }

    .news-spotlight::after {
      content: "‚≠ê";
      margin-left: 3px;
      font-size: 9px;
    }

    .pub-links {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .pub-link {
      font-size: 14px;
      color: var(--text-light);
      text-decoration: none;
      padding: 8px 16px;
      border: 1px solid #e8e8e8;
      border-radius: 4px;
      background: transparent;
      transition: all 0.2s ease;
      font-weight: 500;
    }

    .pub-link:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    .pub-link.github {
      position: relative;
    }

    .pub-link.github .star-count {
      margin-left: 6px;
      font-size: 11px;
      opacity: 0.7;
      font-weight: 400;
    }

    .pub-link.github .star-count::before {
      content: "‚≠ê";
      margin-right: 2px;
      font-size: 10px;
    }

    /* Experience grid */
    .exp-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 80px;
      max-width: 1000px;
      margin: 0 auto;
    }

    .exp-section-title {
      font-size: 22px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 32px;
      text-align: center;
    }

    .exp-section-title::before {
      content: "‚ñ∂ ";
      font-size: 14px;
      color: var(--success);
    }

    .exp-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px 0;
      border-bottom: 1px solid #f8f8f8;
    }

    .exp-item:last-child {
      border-bottom: none;
    }

    .exp-logo {
      width: 64px;
      height: 64px;
      object-fit: contain;
      border-radius: 10px;
      background: white;
      padding: 10px;
      border: 1px solid #f0f0f0;
    }

    .exp-content {
      flex: 1;
    }

    .exp-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 4px;
    }

    .exp-role {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 2px;
    }

    .exp-period {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text-muted);
    }

    .exp-period::before {
      content: "‚è± ";
      opacity: 0.6;
    }

    /* Pets section */
    .pets-section {
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      gap: 60px;
      align-items: flex-start;
    }

    .pets-image {
      width: 320px;
      height: 320px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    }

    .pets-info {
      flex: 1;
      padding-top: 20px;
    }

    .pet-item {
      margin-bottom: 32px;
    }

    .pet-item:last-child {
      margin-bottom: 0;
    }

    .pet-name {
      font-size: 20px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .pet-name::before {
      content: "üêæ";
      font-size: 16px;
    }

    .pet-details {
      font-size: 15px;
      color: var(--text-light);
      line-height: 1.6;
      font-family: var(--mono);
    }

    .pet-details::before {
      content: "{\n";
      color: var(--text-muted);
      display: block;
      margin-bottom: 4px;
    }

    .pet-details::after {
      content: "\n}";
      color: var(--text-muted);
      display: block;
      margin-top: 4px;
    }

    .pet-details strong {
      color: var(--text);
    }

    /* Activities */
    .activities-section {
      max-width: 600px;
      margin: 0 auto;
      display: flex;
      gap: 60px;
      justify-content: center;
    }

    .activity-item {
      text-align: center;
      flex: 1;
    }

    .activity-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .activity-title.conferences::before {
      content: "üìã";
      font-size: 16px;
    }

    .activity-title.journals::before {
      content: "üìñ";
      font-size: 16px;
    }

    .activity-content {
      font-size: 15px;
      color: var(--text-light);
      line-height: 1.6;
      font-family: var(--mono);
    }

    /* Visitor Map Section */
    .visitor-map-section {
      margin-top: 80px;
      padding: 60px 0;
      background: rgba(248, 249, 250, 0.3);
      border-top: 1px solid #f0f0f0;
    }

    .map-container {
      display: grid;
      grid-template-columns: 1fr 200px;
      gap: 30px;
      margin-bottom: 30px;
    }

    .visitor-map {
      height: 400px;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      z-index: 1;
    }

    /* Leaflet map styling */
    .leaflet-container {
      border-radius: 12px;
    }

    .leaflet-popup-content-wrapper {
      border-radius: 8px;
      font-family: var(--sans);
    }

    .leaflet-popup-content {
      margin: 12px 16px;
      font-size: 13px;
    }

    .visitor-marker {
      background: #3b82f6;
      border: 2px solid #ffffff;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }

    .visitor-marker.highlighted {
      background: #f59e0b;
      border-color: #f59e0b;
      transform: scale(1.2);
    }

    .visitor-stats {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .stat-item {
      text-align: center;
      padding: 20px;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .stat-value {
      display: block;
      font-size: 28px;
      font-weight: 700;
      color: var(--accent);
      font-family: var(--mono);
    }

    .stat-label {
      display: block;
      font-size: 12px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 4px;
    }

    .location-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
    }

    .location-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: #ffffff;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      transition: all 0.2s ease;
    }

    .location-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      border-color: var(--accent);
    }

    .location-item.highlighted {
      border-color: #f59e0b;
      background: rgba(245, 158, 11, 0.05);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(245, 158, 11, 0.2);
    }

    .location-name {
      font-weight: 500;
      color: var(--text);
      font-size: 14px;
    }

    .location-count {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--accent);
      background: rgba(59, 130, 246, 0.1);
      padding: 2px 8px;
      border-radius: 12px;
    }

    .map-placeholder {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: var(--text-muted);
      text-align: center;
    }

    .map-placeholder-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .map-placeholder-text {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .map-placeholder-subtext {
      font-size: 14px;
      opacity: 0.7;
    }

    /* Footer */
    .footer {
      margin-top: 60px;
      padding: 40px 0;
      border-top: 1px solid #f5f5f5;
      text-align: center;
      font-size: 14px;
      color: var(--text-muted);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .map-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .visitor-stats {
        flex-direction: row;
        justify-content: space-around;
      }

      .visitor-map {
        height: 300px;
      }

      .location-list {
        grid-template-columns: 1fr;
      }
    }

    /* Buttons */
    .btn {
      display: inline-block;
      padding: 12px 24px;
      background: transparent;
      border: 1px solid #e8e8e8;
      border-radius: 2px;
      color: var(--text-light);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
      cursor: pointer;
      font-family: var(--mono);
      margin: 32px auto 0;
      display: block;
      width: fit-content;
      position: relative;
    }

    .btn::before {
      content: "$ ";
      color: var(--success);
      opacity: 0.7;
    }

    .btn:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .container {
        padding: 80px 24px 60px;
      }
      
      .nav {
        padding: 0 24px;
      }
      
      .hero {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 40px;
      }
      
      .profile-image {
        width: 180px;
        height: 220px;
      }
      
      .profile-stats {
        width: 180px;
      }
      
      .exp-grid {
        grid-template-columns: 1fr;
        gap: 60px;
      }
      
      .stats-grid {
        gap: 40px;
      }
      
      .pets-section {
        flex-direction: column;
        text-align: center;
        gap: 40px;
      }
      
      .pub-item {
        flex-direction: column;
        gap: 20px;
      }
      
      .pub-image {
        width: 100%;
        height: 160px;
      }

      .activities-section {
        flex-direction: column;
        gap: 40px;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 80px 16px 60px;
      }
      
      .nav {
        padding: 0 16px;
      }
      
      .nav-links {
        gap: 20px;
      }
      
      .hero-title {
        font-size: 36px;
      }
      
      .stats-grid {
        flex-direction: column;
        gap: 24px;
      }
      
      .pets-image {
        width: 100%;
        max-width: 280px;
        height: 250px;
      }
      
      .news-item {
        flex-direction: column;
        gap: 8px;
      }
      
      .news-date {
        min-width: auto;
      }
    }

    /* Utility */
    .hidden {
      display: none;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section {
      animation: fadeIn 0.6s ease forwards;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="nav">
      <a href="#" class="logo">hao.zhang</a>
      <nav>
        <ul class="nav-links">
          <li><a href="#about">About</a></li>
          <li><a href="#news">News</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="#experience">Experience</a></li>
          <li><a href="#activities">Activities</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="container">
    <!-- Hero Section -->
    <section id="about" class="hero">
      <div class="profile-container">
        <img class="profile-image" src="assets/img/me/me.jpg" alt="Hao Zhang"/>
        <div class="profile-stats">
          <div class="profile-stat">
            <div class="profile-stat-value" id="citation-count">73</div>
            <div class="profile-stat-label">Citations</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value" id="h-index">5</div>
            <div class="profile-stat-label">H-Index</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-value" id="visitor-count">Loading...</div>
            <div class="profile-stat-label">Visits</div>
          </div>
        </div>
      </div>
      <div class="hero-content">
        <div class="hero-prompt">whoami</div>
        <h1 class="hero-title">Hao Zhang <span class="chinese-name">Âº†Êòä</span></h1>
        <div class="hero-subtitle">PhD Student @ UIUC ¬∑ Research Scientist Intern @ Snap Research</div>
        <div class="hero-description terminal-style">
          <div class="typewriter-text" id="typewriter">
            <!-- Content will be dynamically generated -->
          </div>
        </div>
        <div class="contact-grid">
          <a class="contact-btn" href="mailto:haoz19@illinois.edu">
            <i class="fas fa-envelope" style="font-size: 16px;"></i> Email
          </a>
          <a class="contact-btn" href="https://x.com/HaoZhang623" target="_blank">
            <span style="font-family: monospace; font-weight: bold; color: #000; font-size: 16px;">ùïè</span> X
          </a>
          <a class="contact-btn" href="https://github.com/haoz19" target="_blank">
            <i class="fab fa-github" style="font-size: 16px;"></i> GitHub
          </a>
          <a class="contact-btn" href="https://scholar.google.com/citations?hl=zh-CN&user=KeDuEtcAAAAJ" target="_blank">
            <i class="fas fa-graduation-cap" style="font-size: 16px; color: #4285f4;"></i> Scholar
          </a>
          <a class="contact-btn" href="https://www.xiaohongshu.com/user/profile/5d7dbb7b00000000010089e3" target="_blank">
            <i class="fas fa-book-open" style="font-size: 16px; color: #ff2442;"></i> Â∞èÁ∫¢‰π¶
          </a>
          <div class="contact-btn wechat">
            <i class="fab fa-weixin" style="font-size: 16px; color: #07c160;"></i> WeChat
            <div class="tooltip">zh17603602632</div>
          </div>
        </div>
      </div>
    </section>


    <!-- News Section -->
    <section id="news" class="section">
      <h2 class="section-title">Latest News</h2>
      <div class="news-timeline" id="news-timeline">
        <div class="news-item">
          <div class="news-date">2025-09-18</div>
          <div class="news-content">
            üéâ <strong>SP4D</strong> (first author) accepted by <strong>NeurIPS 2025</strong><span class="news-spotlight">Spotlight</span>!
          </div>
        </div>
        <div class="news-item">
          <div class="news-date">2025-06-25</div>
          <div class="news-content">
            <strong>PhysRig</strong> (first author) accepted by <strong>ICCV 2025</strong>!
          </div>
        </div>
        <div class="news-item">
          <div class="news-date">2025-06-02</div>
          <div class="news-content">
            I joined <strong>Snap Research</strong> (NY) as a Research Scientist Intern.
          </div>
        </div>
        <div class="news-item">
          <div class="news-date">2025-05-27</div>
          <div class="news-content">
            One paper (first author) accepted by <strong>TMLR 2025</strong>!
          </div>
        </div>
          <div id="more-news">
          <div class="news-item">
            <div class="news-date">2025-02-17</div>
            <div class="news-content">
              üèÜ Selected as <strong>Meshy Fellowship 2025 Finalist</strong>!
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2024-09-16</div>
            <div class="news-content">
              Will join <strong>Stability AI</strong> in Fall 2024.
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2024-05-02</div>
            <div class="news-content">
              Will join <strong>Pixocial AI Lab</strong> in Seattle.
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2024-05-02</div>
            <div class="news-content">
              One paper (first author) accepted by <strong>ICML 2024</strong>!
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2024-01-16</div>
            <div class="news-content">
              One paper (first author) accepted by <strong>ICLR 2024</strong>!
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2023-12-08</div>
            <div class="news-content">
              One paper (first author) accepted by <strong>AAAI 2024</strong>!
            </div>
          </div>
          <div class="news-item">
            <div class="news-date">2023-10-24</div>
            <div class="news-content">
              One paper (first author) accepted by <strong>WACV 2024</strong>!
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Publications Section -->
    <section id="publications" class="section">
      <h2 class="section-title">Selected Publications</h2>
      <div class="pub-list">
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/SP4D.png" alt="SP4D"/>
          <div class="pub-content">
            <div class="pub-title">Stable Part Diffusion 4D: Multi-View RGB and Kinematic Parts Video Generation</div>
            <div class="pub-authors"><strong>Hao Zhang</strong>, Chun-Han Yao, Simon Donn√©, Narendra Ahuja, Varun Jampani</div>
            <div style="margin-bottom: 16px;">
              <span class="pub-venue">NeurIPS 2025</span>
              <span class="pub-spotlight">Spotlight</span>
            </div>
            <div class="pub-links">
              <a href="https://stablepartdiffusion4d.github.io/" target="_blank" class="pub-link">Project</a>
              <a href="https://arxiv.org/abs/2509.10687" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>

        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/RGB-Only.png" alt="RGB-Only"/>
          <div class="pub-content">
            <div class="pub-title">RGB-Only Supervised Camera Parameter Optimization in Dynamic Scenes</div>
            <div class="pub-authors">Fang Li, <strong>Hao Zhang</strong>, and Narendra Ahuja</div>
            <div style="margin-bottom: 16px;">
              <span class="pub-venue">NeurIPS 2025</span>
              <span class="pub-spotlight">Spotlight</span>
            </div>
            <div class="pub-links">
              <a href="https://arxiv.org/abs/2509.15123" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/PhysRig.png" alt="PhysRig"/>
          <div class="pub-content">
            <div class="pub-title">PhysRig: Differentiable Physics‚ÄëBased Skinning and Rigging Framework</div>
            <div class="pub-authors"><strong>Hao Zhang*</strong>, Haolan Xu*, Chun Feng, Varun Jampani, Narendra Ahuja</div>
            <div class="pub-venue">ICCV 2025</div>
            <div class="pub-links">
              <a href="https://physrig.github.io" target="_blank" class="pub-link">Project</a>
              <a href="https://github.com/haoz19/PhysRig" target="_blank" class="pub-link github" data-repo="PhysRig">
                GitHub<span class="star-count" id="physrig-stars">Loading...</span>
              </a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/MagicPose4D.png" alt="MagicPose4D"/>
          <div class="pub-content">
            <div class="pub-title">MagicPose4D: Crafting Articulated Models with Appearance and Motion Control</div>
            <div class="pub-authors"><strong>Hao Zhang*</strong>, Di Chang*, Fang Li, Mohammad Soleymani, Narendra Ahuja</div>
            <div class="pub-venue">TMLR 2025</div>
            <div class="pub-links">
              <a href="https://boese0601.github.io/magicpose4d/" target="_blank" class="pub-link">Project</a>
              <a href="https://github.com/haoz19/MagicPose4D" target="_blank" class="pub-link github" data-repo="MagicPose4D">
                GitHub<span class="star-count" id="magicpose4d-stars">Loading...</span>
              </a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/S3O.png" alt="S3O"/>
          <div class="pub-content">
            <div class="pub-title">S3O: A Dual‚ÄëPhase Approach for Reconstructing Dynamic Shape and Skeleton</div>
            <div class="pub-authors"><strong>Hao Zhang</strong>, Fang Li, Samyak Rawlekar, Narendra Ahuja</div>
            <div class="pub-venue">ICML 2024</div>
            <div class="pub-links">
              <a href="https://arxiv.org/abs/2405.12607" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/LIMR.png" alt="LIMR"/>
          <div class="pub-content">
            <div class="pub-title">LIMR: Learning Implicit Representation for Reconstructing Articulated Objects</div>
            <div class="pub-authors"><strong>Hao Zhang</strong>, Fang Li, Samyak Rawlekar, Narendra Ahuja</div>
            <div class="pub-venue">ICLR 2024</div>
            <div class="pub-links">
              <a href="https://openreview.net/forum?id=KQ2i6jazVK" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/CSL.png" alt="CSL"/>
          <div class="pub-content">
            <div class="pub-title">CSL: Class‚ÄëAgnostic Structure‚ÄëConstrained Learning for Segmentation</div>
            <div class="pub-authors"><strong>Hao Zhang</strong>, Fang Li, Lu Qi, Ming‚ÄëHsuan Yang, Narendra Ahuja</div>
            <div class="pub-venue">AAAI 2024</div>
            <div class="pub-links">
              <a href="https://arxiv.org/abs/2312.05538" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>
        
        <div class="pub-item">
          <img class="pub-image" src="assets/img/papers/OpenNeRF.png" alt="OpenNeRF"/>
          <div class="pub-content">
            <div class="pub-title">Open‚ÄëNeRF: Towards Open Vocabulary NeRF Decomposition</div>
            <div class="pub-authors"><strong>Hao Zhang</strong>, Fang Li, Narendra Ahuja</div>
            <div class="pub-venue">WACV 2024</div>
            <div class="pub-links">
              <a href="https://openaccess.thecvf.com/content/WACV2024/html/Zhang_Open-NeRF_Towards_Open_Vocabulary_NeRF_Decomposition_WACV_2024_paper.html" target="_blank" class="pub-link">Paper</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Experience & Education -->
    <section id="experience" class="section">
      <h2 class="section-title">Experience & Education</h2>
      <div class="exp-grid">
        <!-- Experience -->
        <div>
          <h3 class="exp-section-title">Work Experience</h3>
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/snap.jpg" alt="Snap"/>
            <div class="exp-content">
              <div class="exp-title">Snap Research</div>
              <div class="exp-role">Research Scientist Intern</div>
              <div class="exp-period">2025 Summer ‚Äì Now</div>
            </div>
          </div>
          
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/stability.png" alt="Stability AI"/>
            <div class="exp-content">
              <div class="exp-title">Stability AI</div>
              <div class="exp-role">Research Scientist Intern</div>
              <div class="exp-period">2024 Fall ‚Äì 2025 Summer</div>
            </div>
          </div>
          
          <div class="exp-item">
            <div class="exp-logo" style="display:flex;align-items:center;justify-content:center;background:var(--accent);color:white;font-weight:800;font-size:7px;text-align:center;">PIXOCIAL<br/>AI</div>
            <div class="exp-content">
              <div class="exp-title">Pixocial AI Lab</div>
              <div class="exp-role">Research Scientist Intern</div>
              <div class="exp-period">2024 Summer</div>
            </div>
          </div>
          
          <div id="more-exp" class="hidden">
            <div class="exp-item">
              <img class="exp-logo" src="assets/img/logos/shlab.webp" alt="Shanghai AI Lab"/>
              <div class="exp-content">
                <div class="exp-title">Shanghai AI Lab</div>
                <div class="exp-role">Research Intern</div>
                <div class="exp-period">2021.10 ‚Äì 2022.6</div>
              </div>
            </div>
          </div>
          <button class="btn" onclick="toggleExp()">
            Show More Experience
          </button>
        </div>

        <!-- Education -->
        <div>
          <h3 class="exp-section-title">Education</h3>
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/uiuc.png" alt="UIUC"/>
            <div class="exp-content">
              <div class="exp-title">University of Illinois Urbana‚ÄëChampaign</div>
              <div class="exp-role">Ph.D. in Computer Vision</div>
              <div class="exp-period">2022‚Äì2027 (expected)</div>
            </div>
          </div>
          
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/usc.png" alt="USC"/>
            <div class="exp-content">
              <div class="exp-title">University of Southern California</div>
              <div class="exp-role">M.S. in ECE</div>
              <div class="exp-period">2019‚Äì2020</div>
            </div>
          </div>
          
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/CUSZ.png" alt="CUHK-Shenzhen"/>
            <div class="exp-content">
              <div class="exp-title">CUHK, Shenzhen</div>
              <div class="exp-role">Visiting Student</div>
              <div class="exp-period">2021.3 ‚Äì 2021.10</div>
            </div>
          </div>
          
          <div class="exp-item">
            <img class="exp-logo" src="assets/img/logos/CAUC.png" alt="CAUC"/>
            <div class="exp-content">
              <div class="exp-title">Civil Aviation University of China</div>
              <div class="exp-role">B.S. in Telecommunication Engineering</div>
              <div class="exp-period">2014‚Äì2018</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pets Section -->
    <section class="section">
      <h2 class="section-title">My Beloved Companions</h2>
      <div class="pets-section">
        <img class="pets-image" src="assets/img/pets/pets.jpg" alt="Fifi and Taotao"/>
        <div class="pets-info">
          <div class="pet-item">
            <div class="pet-name">Fifi</div>
            <div class="pet-details">
              <strong>Born:</strong> 2022-08-14<br/>
              <strong>Weight:</strong> 6 lbs<br/>
              <strong>Age:</strong> <span id="fifi-age">Loading...</span>
            </div>
          </div>
          <div class="pet-item">
            <div class="pet-name">Taotao</div>
            <div class="pet-details">
              <strong>Born:</strong> 2025-02-14<br/>
              <strong>Weight:</strong> 4 lbs<br/>
              <strong>Age:</strong> <span id="taotao-age">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Activities Section -->
    <section id="activities" class="section">
      <h2 class="section-title">Professional Activities</h2>
      <div class="activities-section">
        <div class="activity-item">
          <div class="activity-title conferences">Conference Reviewer</div>
          <div class="activity-content">
            ICLR, NeurIPS, ECCV,<br/>
            CVPR, ICML, AAAI, ICCV
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-title journals">Journal Reviewer</div>
          <div class="activity-content">
            IEEE Transactions on<br/>
            Image Processing (TIP)
            Transactions on Pattern<br/>
            Analysis and Machine Intelligence
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Visitor Map Section -->
  <section class="visitor-map-section">
    <div class="container">
      <h2 class="section-title">Visitor Map</h2>
      <div class="map-container">
        <div id="visitor-map" class="visitor-map"></div>
        <div class="visitor-stats">
          <div class="stat-item">
            <span class="stat-value" id="total-locations">0</span>
            <span class="stat-label">Locations</span>
          </div>
          <div class="stat-item">
            <span class="stat-value" id="total-visits">0</span>
            <span class="stat-label">Total Visits</span>
          </div>
        </div>
      </div>
      <div class="location-list" id="location-list">
        <!-- Location items will be populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    ¬© <span id="year">2025</span> Hao Zhang. I can because I have to.
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  
  <script>
    // Toggle functions
    function toggleNews() {
      const moreNews = document.getElementById('more-news');
      const btn = event.target;
      if (moreNews.classList.contains('hidden')) {
        moreNews.classList.remove('hidden');
        btn.textContent = 'Show Less News';
      } else {
        moreNews.classList.add('hidden');
        btn.textContent = 'Show More News';
      }
    }
    
    function toggleExp() {
      const moreExp = document.getElementById('more-exp');
      const btn = event.target;
      if (moreExp.classList.contains('hidden')) {
        moreExp.classList.remove('hidden');
        btn.textContent = 'Show Less Experience';
      } else {
        moreExp.classList.add('hidden');
        btn.textContent = 'Show More Experience';
      }
    }
    
    // Pet age calculator
    function updatePetAges() {
      const now = new Date();
      
      // Fifi's age
      const fifiBirthday = new Date(2022, 7, 14);
      const fifiAge = calculateAge(fifiBirthday, now);
      document.getElementById('fifi-age').textContent = formatAge(fifiAge);
      
      // Taotao's age
      const taotaoBirthday = new Date(2025, 1, 14);
      const taotaoAge = calculateAge(taotaoBirthday, now);
      document.getElementById('taotao-age').textContent = formatAge(taotaoAge);
    }
    
    function calculateAge(birthDate, currentDate) {
      const diffMs = currentDate - birthDate;
      const ageDate = new Date(diffMs);
      
      const years = ageDate.getUTCFullYear() - 1970;
      const months = ageDate.getUTCMonth();
      const days = ageDate.getUTCDate() - 1;
      
      return { years, months, days, totalDays: Math.floor(diffMs / (1000 * 60 * 60 * 24)) };
    }
    
    function formatAge(age) {
      if (age.totalDays < 0) {
        return `${Math.abs(age.totalDays)} days to go!`;
      } else if (age.years > 0) {
        if (age.months > 0) {
          return `${age.years}y ${age.months}m`;
        } else {
          return `${age.years}y`;
        }
      } else if (age.months > 0) {
        return `${age.months}m`;
      } else {
        return `${age.totalDays}d`;
      }
    }
    
    // Visitor analytics with location tracking
    async function initVisitorAnalytics() {
      let visitorData = JSON.parse(localStorage.getItem('hz-visitors') || '{"count": 0, "locations": {}}');
      visitorData.count++;
      
      // Update visitor count display
      document.getElementById('visitor-count').textContent = visitorData.count.toLocaleString();
      
      // Get location data using IP geolocation (no permission required)
      try {
        console.log('Fetching location data...');
        const response = await fetch('https://ipapi.co/json/');
        console.log('Response status:', response.status);
        
        if (response.ok) {
          const locationData = await response.json();
          console.log('Location data received:', locationData);
          
          const city = locationData.city || locationData.region || locationData.region_name || 'Unknown City';
          const country = locationData.country_name || locationData.country || locationData.country_code || 'Unknown Country';
          const locationKey = `${city}, ${country}`;
          
          console.log('Processed location:', { city, country, locationKey });
          
          // Track unique locations
          if (!visitorData.locations[locationKey]) {
            visitorData.locations[locationKey] = {
              count: 0,
              firstVisit: new Date().toISOString(),
              coordinates: {
                lat: locationData.latitude,
                lng: locationData.longitude
              }
            };
          }
          visitorData.locations[locationKey].count++;
          visitorData.locations[locationKey].lastVisit = new Date().toISOString();
          
          console.log('Visitor location tracked:', locationKey);
        } else {
          console.log('API response not ok:', response.status, response.statusText);
          throw new Error('API request failed');
        }
      } catch (error) {
        console.log('Location tracking failed:', error);
        // Fallback: Add some demo locations for testing
        const demoLocations = [
          'Beijing, China',
          'New York, United States', 
          'London, United Kingdom',
          'Tokyo, Japan',
          'Sydney, Australia'
        ];
        const randomLocation = demoLocations[Math.floor(Math.random() * demoLocations.length)];
        
        if (!visitorData.locations[randomLocation]) {
          visitorData.locations[randomLocation] = {
            count: 0,
            firstVisit: new Date().toISOString(),
            coordinates: { lat: 0, lng: 0 }
          };
        }
        visitorData.locations[randomLocation].count++;
        visitorData.locations[randomLocation].lastVisit = new Date().toISOString();
        
        console.log('Using demo location:', randomLocation);
      }
      
      // Save updated data
      localStorage.setItem('hz-visitors', JSON.stringify(visitorData));
      
      // Log analytics data for debugging
      console.log('Visitor Analytics:', {
        totalVisits: visitorData.count,
        uniqueLocations: Object.keys(visitorData.locations).length,
        locations: visitorData.locations
      });
      
      // Update visitor map
      updateVisitorMap();
    }
    
    // GitHub stars fetcher for individual repos
    async function fetchGitHubStars() {
      try {
        const repos = [
          { name: 'PhysRig', elementId: 'physrig-stars' },
          { name: 'MagicPose4D', elementId: 'magicpose4d-stars' }
        ];
        
        for (const repo of repos) {
          const response = await fetch(`https://api.github.com/repos/haoz19/${repo.name}`);
          if (response.ok) {
            const data = await response.json();
            const element = document.getElementById(repo.elementId);
            if (element) {
              element.textContent = data.stargazers_count.toLocaleString();
            }
          } else {
            const element = document.getElementById(repo.elementId);
            if (element) {
              element.textContent = '‚Äî';
            }
          }
        }
      } catch (error) {
        // Handle errors gracefully
        document.getElementById('physrig-stars').textContent = '‚Äî';
        document.getElementById('magicpose4d-stars').textContent = '‚Äî';
      }
    }
    
    // Auto scroll news timeline with loop
    function initAutoScroll() {
      const newsTimeline = document.getElementById('news-timeline');
      if (!newsTimeline) return;
      
      // Wait a bit for content to load
      setTimeout(() => {
        // Clone news items for seamless loop
        const newsItems = newsTimeline.innerHTML;
        newsTimeline.innerHTML = newsItems + newsItems; // Duplicate content
        
        console.log('News timeline height:', newsTimeline.scrollHeight);
        console.log('News timeline client height:', newsTimeline.clientHeight);
        
        let isUserScrolling = false;
        let scrollSpeed = 0.5; // pixels per frame
        
        // Detect user interaction
        newsTimeline.addEventListener('mouseenter', () => {
          isUserScrolling = true;
        });
        
        newsTimeline.addEventListener('mouseleave', () => {
          isUserScrolling = false;
        });
        
        newsTimeline.addEventListener('wheel', () => {
          isUserScrolling = true;
          setTimeout(() => {
            isUserScrolling = false;
          }, 3000); // Resume auto-scroll after 3 seconds
        });
        
        // Auto scroll function with loop
        function autoScroll() {
          if (!isUserScrolling && newsTimeline.scrollHeight > newsTimeline.clientHeight) {
            const halfHeight = newsTimeline.scrollHeight / 2;
            
            // Scroll down continuously
            newsTimeline.scrollTop += scrollSpeed;
            
            // Reset to top when we've scrolled through the first copy
            if (newsTimeline.scrollTop >= halfHeight) {
              newsTimeline.scrollTop = 0;
            }
          }
          
          requestAnimationFrame(autoScroll);
        }
        
        // Start auto scrolling
        autoScroll();
      }, 100);
    }
    
    // Typewriter effect for hero description
    function initTypewriter() {
      const typewriterElement = document.getElementById('typewriter');
      if (!typewriterElement) return;
      
      const text = `I work on <span class="keyword-highlight dynamic">Dynamic 3D</span>, <span class="keyword-highlight reconstruction">4D Reconstruction and Generation</span>, <span class="keyword-highlight animation">Animation</span>, <span class="keyword-highlight rigging">Rigging</span>, and <span class="keyword-highlight simulation">Differential Physical Simulation</span> in 3D Vision. Open to research collaborations, academic discussions, and mentoring opportunities.`;
      
      let index = 0;
      let currentText = '';
      let isTag = false;
      let tagBuffer = '';
      
      function typeCharacter() {
        if (index < text.length) {
          const char = text[index];
          
          if (char === '<') {
            isTag = true;
            tagBuffer = '<';
          } else if (char === '>' && isTag) {
            isTag = false;
            tagBuffer += '>';
            currentText += tagBuffer;
            tagBuffer = '';
          } else if (isTag) {
            tagBuffer += char;
          } else {
            currentText += char;
          }
          
          typewriterElement.innerHTML = currentText + '<span class="typewriter-cursor">‚ñà</span>';
          index++;
          
          // Variable typing speed
          const delay = isTag ? 0 : (char === ' ' ? 100 : Math.random() * 100 + 50);
          setTimeout(typeCharacter, delay);
        } else {
          // Remove cursor after typing is complete
          setTimeout(() => {
            typewriterElement.innerHTML = currentText;
          }, 1000);
        }
      }
      
      // Start typing after a short delay
      setTimeout(typeCharacter, 1000);
    }
    
    // Global map variable
    let visitorMap = null;
    let mapMarkers = {};

    // Update visitor map and location list
    function updateVisitorMap() {
      const visitorData = JSON.parse(localStorage.getItem('hz-visitors') || '{"count": 0, "locations": {}}');
      const locations = visitorData.locations;
      const locationCount = Object.keys(locations).length;
      
      // Update stats
      document.getElementById('total-locations').textContent = locationCount;
      document.getElementById('total-visits').textContent = visitorData.count.toLocaleString();
      
      // Initialize or update Leaflet map
      if (locationCount === 0) {
        const mapElement = document.getElementById('visitor-map');
        mapElement.innerHTML = `
          <div class="map-placeholder">
            <div class="map-placeholder-icon">üåç</div>
            <div class="map-placeholder-text">No Visitors Yet</div>
            <div class="map-placeholder-subtext">Visitor locations will appear here</div>
          </div>
        `;
      } else {
        initLeafletMap(locations);
      }
      
      // Update location list
      const locationListElement = document.getElementById('location-list');
      if (locationCount === 0) {
        locationListElement.innerHTML = '<div style="text-align: center; color: var(--text-muted); padding: 40px;">No locations recorded yet</div>';
      } else {
        const sortedLocations = Object.entries(locations)
          .sort(([,a], [,b]) => b.count - a.count);
        
        locationListElement.innerHTML = sortedLocations.map(([location, data]) => {
          const locationId = location.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();
          return `
            <div class="location-item" 
                 id="item-${locationId}"
                 data-location="${location}"
                 onmouseover="highlightLocation('${location}')"
                 onmouseout="unhighlightLocation('${location}')"
                 onclick="focusMapLocation('${location}')">
              <div class="location-name">üìç ${location}</div>
              <div class="location-count">${data.count}</div>
            </div>
          `;
        }).join('');
      }
    }

    // Initialize Leaflet map
    function initLeafletMap(locations) {
      const mapElement = document.getElementById('visitor-map');
      
      // Clear existing content
      mapElement.innerHTML = '';
      
      // Initialize map
      if (visitorMap) {
        visitorMap.remove();
      }
      
      visitorMap = L.map('visitor-map', {
        zoomControl: true,
        scrollWheelZoom: false,
        doubleClickZoom: true,
        touchZoom: true
      }).setView([20, 0], 2);
      
      // Add tile layer (OpenStreetMap)
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors',
        maxZoom: 10,
        minZoom: 1
      }).addTo(visitorMap);
      
      // Clear existing markers
      mapMarkers = {};
      
      // Add markers for each location
      Object.entries(locations).forEach(([location, data]) => {
        const coords = getRealCoordinates(location, data.coordinates);
        if (coords) {
          const size = Math.max(10, Math.min(25, data.count * 3));
          
          // Create custom marker
          const marker = L.circleMarker([coords.lat, coords.lng], {
            radius: size / 2,
            fillColor: '#3b82f6',
            color: '#ffffff',
            weight: 2,
            opacity: 1,
            fillOpacity: 0.8
          }).addTo(visitorMap);
          
          // Add popup
          const firstVisitDate = data.firstVisit ? new Date(data.firstVisit).toLocaleDateString() : 'Unknown';
          marker.bindPopup(`
            <div style="text-align: center;">
              <strong>${location}</strong><br>
              <span style="color: var(--text-muted);">${data.count || 0} visits</span><br>
              <small>First: ${firstVisitDate}</small>
            </div>
          `);
          
          // Store marker reference
          const locationId = location.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();
          mapMarkers[locationId] = marker;
          
          // Add hover events
          marker.on('mouseover', () => highlightLocation(location));
          marker.on('mouseout', () => unhighlightLocation(location));
        }
      });
    }

    // Get real coordinates (use API data if available, fallback to approximation)
    function getRealCoordinates(location, apiCoords) {
      if (apiCoords && apiCoords.lat && apiCoords.lng) {
        return { lat: apiCoords.lat, lng: apiCoords.lng };
      }
      
      // Fallback to approximation
      return getApproximateRealCoordinates(location);
    }

    // Get approximate real world coordinates
    function getApproximateRealCoordinates(location) {
      const cityCoords = {
        'Beijing, China': { lat: 39.9042, lng: 116.4074 },
        'Shanghai, China': { lat: 31.2304, lng: 121.4737 },
        'New York, United States': { lat: 40.7128, lng: -74.0060 },
        'Los Angeles, United States': { lat: 34.0522, lng: -118.2437 },
        'London, United Kingdom': { lat: 51.5074, lng: -0.1278 },
        'Paris, France': { lat: 48.8566, lng: 2.3522 },
        'Tokyo, Japan': { lat: 35.6762, lng: 139.6503 },
        'Seoul, South Korea': { lat: 37.5665, lng: 126.9780 },
        'Singapore, Singapore': { lat: 1.3521, lng: 103.8198 },
        'Sydney, Australia': { lat: -33.8688, lng: 151.2093 },
        'Toronto, Canada': { lat: 43.6532, lng: -79.3832 },
        'Vancouver, Canada': { lat: 49.2827, lng: -123.1207 },
        'Berlin, Germany': { lat: 52.5200, lng: 13.4050 },
        'Moscow, Russia': { lat: 55.7558, lng: 37.6176 },
        'Mumbai, India': { lat: 19.0760, lng: 72.8777 },
        'Delhi, India': { lat: 28.7041, lng: 77.1025 },
        'S√£o Paulo, Brazil': { lat: -23.5505, lng: -46.6333 },
        'Mexico City, Mexico': { lat: 19.4326, lng: -99.1332 },
        'Cairo, Egypt': { lat: 30.0444, lng: 31.2357 },
        'Lagos, Nigeria': { lat: 6.5244, lng: 3.3792 },
        'Istanbul, Turkey': { lat: 41.0082, lng: 28.9784 },
        'Bangkok, Thailand': { lat: 13.7563, lng: 100.5018 },
        'Jakarta, Indonesia': { lat: -6.2088, lng: 106.8456 },
        'Manila, Philippines': { lat: 14.5995, lng: 120.9842 },
        'Ho Chi Minh City, Vietnam': { lat: 10.8231, lng: 106.6297 },
        'Kuala Lumpur, Malaysia': { lat: 3.1390, lng: 101.6869 },
        'Hong Kong, China': { lat: 22.3193, lng: 114.1694 },
        'Taipei, Taiwan': { lat: 25.0330, lng: 121.5654 },
        'Dubai, UAE': { lat: 25.2048, lng: 55.2708 },
        'Tel Aviv, Israel': { lat: 32.0853, lng: 34.7818 },
        'Riyadh, Saudi Arabia': { lat: 24.7136, lng: 46.6753 },
        'Johannesburg, South Africa': { lat: -26.2041, lng: 28.0473 },
        'Cape Town, South Africa': { lat: -33.9249, lng: 18.4241 }
      };
      
      // Try exact match first
      if (cityCoords[location]) {
        return cityCoords[location];
      }
      
      // Try partial match
      for (const [city, coords] of Object.entries(cityCoords)) {
        if (location.toLowerCase().includes(city.split(',')[0].toLowerCase())) {
          return coords;
        }
      }
      
      // Country fallbacks
      const countryCoords = {
        'China': { lat: 35.8617, lng: 104.1954 },
        'United States': { lat: 37.0902, lng: -95.7129 },
        'Canada': { lat: 56.1304, lng: -106.3468 },
        'United Kingdom': { lat: 55.3781, lng: -3.4360 },
        'Germany': { lat: 51.1657, lng: 10.4515 },
        'France': { lat: 46.6034, lng: 1.8883 },
        'Japan': { lat: 36.2048, lng: 138.2529 },
        'Australia': { lat: -25.2744, lng: 133.7751 },
        'India': { lat: 20.5937, lng: 78.9629 },
        'Brazil': { lat: -14.2350, lng: -51.9253 },
        'Russia': { lat: 61.5240, lng: 105.3188 }
      };
      
      for (const [country, coords] of Object.entries(countryCoords)) {
        if (location.toLowerCase().includes(country.toLowerCase())) {
          return coords;
        }
      }
      
      // Default to center of world
      return { lat: 0, lng: 0 };
    }
    
    
    // Interactive functions for map and location list
    function highlightLocation(location) {
      const locationId = location.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();
      
      // Highlight map marker
      const marker = mapMarkers[locationId];
      if (marker) {
        marker.setStyle({
          fillColor: '#f59e0b',
          color: '#f59e0b'
        });
      }
      
      // Highlight location item
      const item = document.getElementById(`item-${locationId}`);
      if (item) {
        item.classList.add('highlighted');
      }
    }
    
    function unhighlightLocation(location) {
      const locationId = location.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();
      
      // Remove highlight from map marker
      const marker = mapMarkers[locationId];
      if (marker) {
        marker.setStyle({
          fillColor: '#3b82f6',
          color: '#ffffff'
        });
      }
      
      // Remove highlight from location item
      const item = document.getElementById(`item-${locationId}`);
      if (item) {
        item.classList.remove('highlighted');
      }
    }
    
    function focusMapLocation(location) {
      const locationId = location.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();
      const marker = mapMarkers[locationId];
      
      if (marker && visitorMap) {
        // Pan to marker and zoom in
        visitorMap.setView(marker.getLatLng(), 6, {
          animate: true,
          duration: 1
        });
        
        // Open popup
        marker.openPopup();
        
        // Temporarily highlight the marker
        marker.setStyle({
          fillColor: '#f59e0b',
          color: '#f59e0b'
        });
        
        setTimeout(() => {
          marker.setStyle({
            fillColor: '#3b82f6',
            color: '#ffffff'
          });
        }, 2000);
      }
    }
    
    
    
    // Initialize everything
    document.addEventListener('DOMContentLoaded', function() {
      // Update dynamic content
      updatePetAges();
      initVisitorAnalytics();
      fetchGitHubStars();
      
      // Initialize auto scroll
      initAutoScroll();
      
      // Initialize typewriter effect
      initTypewriter();
      
      // Initialize visitor map
      updateVisitorMap();
      
      // Set current year
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Update pet ages every hour
      setInterval(updatePetAges, 60 * 60 * 1000);
      
      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</body>
</html>
